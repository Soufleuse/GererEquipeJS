<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
	<title>Ajouter une équipe de hockey</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        $(function() {
            $("#enteteContent").load('inc/entete.html');
        });
    </script>
    <script type="text/javascript" src="inc/accesdonnees.js"></script>
</head>
<body>
    <div id="enteteContent"></div>
    <div id="wrap">
        <div id="contenu">
            <script type="text/javascript">
                // Sélectionner la liste HTML existante
                const listeEquipeAffichage = document.getElementById("contenu");

                try {
                    listeEquipe = ObtenirListeEquipe();
                    let data;

                    listeEquipe.then((value) => {
                        console.log(listeEquipe);
                        console.log(value);
                        // Parser les données JSON
                        //data = JSON.parse(value);

                        // Fonction pour créer un élément de liste à partir d'un objet
                        function createListItem(item) {
                            const listItem = document.createElement("li");
                            listItem.textContent = `${item.nomEquipe}: ${item.ville}`; // Afficher les données
                            return listItem;
                        }

                        // Itérer sur les données et ajouter les éléments à la liste
                        /*data.forEach(item => {
                            const listItem = createListItem(item);
                            listeEquipeAffichage.appendChild(listItem);
                        });*/
                        value.forEach(item => {
                            const listItem = createListItem(item);
                            listeEquipeAffichage.appendChild(listItem);
                        });
                    });
                }
                catch(ex) {
                    const maDiv = document.createElement("div");
                    const monTexte = document.createTextNode("Une erreur s'est produite lors de la lecture des équipes.");
                    maDiv.appendChild(monTexte);
                    listeEquipeAffichage.appendChild(maDiv);
                    console.log(ex);
                }
            </script>
        </div>
    </div>
</body>
</html>